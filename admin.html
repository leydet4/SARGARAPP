<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard - POV SAR 2026</title>

<link rel="icon" href="SAR.png">
<script src="https://cdn.tailwindcss.com"></script>

<style>
body { font-family: system-ui, sans-serif; }
.card {
  background:#1e293b;
  border-radius:16px;
  padding:24px;
  box-shadow:0 0 25px rgba(0,0,0,.35);
}
.btn {
  padding:10px 16px;
  border-radius:10px;
  font-weight:700;
  transition:.2s;
}
.btn-primary { background:#2563eb; }
.btn-primary:hover { background:#1d4ed8; }
.btn-danger { background:#dc2626; }
.btn-danger:hover { background:#b91c1c; }
</style>
</head>

<body class="bg-slate-900 text-white">

<header class="bg-slate-800 py-6 text-center shadow-lg">
  <img src="SAR.png" class="mx-auto h-16 mb-3">
  <h1 class="text-2xl font-black">Admin Dashboard</h1>
  <a href="index.html"
     class="inline-block mt-4 px-5 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-bold text-sm">
     ‚Üê Back to Dashboard
  </a>
</header>

<section class="p-6 max-w-2xl mx-auto space-y-6">

<div class="card">
<h2 class="text-xl font-bold mb-4">Upload New Resource</h2>

<form id="uploadForm" class="space-y-4">
  <input type="text"
         id="title"
         placeholder="Display Name (Optional)"
         class="w-full p-3 rounded bg-slate-700">

  <input type="file"
         id="fileInput"
         required
         class="w-full p-3 rounded bg-slate-700">

  <button type="submit"
          class="btn btn-primary w-full">
    Upload File
  </button>
</form>

<div id="status" class="mt-4 font-bold"></div>

</div>

</section>

<script>

document.getElementById("uploadForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const file = document.getElementById("fileInput").files[0];
  const title = document.getElementById("title").value;

  if (!file) return;

  const formData = new FormData();
  formData.append("file", file);
  formData.append("title", title);

  document.getElementById("status").innerText = "Uploading...";

  const res = await fetch("/.netlify/functions/uploadResource", {
    method: "POST",
    body: formData
  });

  const data = await res.json();

  if (data.success) {
    document.getElementById("status").innerText = "Upload successful.";
    document.getElementById("uploadForm").reset();
  } else {
    document.getElementById("status").innerText = "Upload failed.";
  }
});

</script>

</body>
</html>